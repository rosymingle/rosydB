document.addEventListener("DOMContentLoaded",(()=>{const hasEACSS=document.querySelector(".eacss"),hasSlick=document.querySelector(".slick-data, .slick-smart");if(!hasEACSS&&!hasSlick)return;const isIOS=/iP(ad|hone|od)/i.test(navigator.userAgent);const loader=new class{constructor(){this.frontendBase="https://www.davidjones.com/images/assetimages/frontend/eacss/v4/",this.versionSuffix="?v90",this.loadedFiles=new Set}loadFile(file,callback){const isJS=file.endsWith(".js"),isCSS=file.endsWith(".css");if(!isJS&&!isCSS||this.loadedFiles.has(file))return;const fileURL=/^https?:\/\//i.test(file)?file:this.frontendBase+file+this.versionSuffix,isAlreadyLoaded=[...document.querySelectorAll(isJS?"script":"link")].some((el=>(el.src||el.href||"").split("?")[0]===fileURL.split("?")[0]));if(isAlreadyLoaded)return void this.loadedFiles.add(file);const el=isJS?this.createElement("script",{src:fileURL,async:!0}):this.createElement("link",{rel:"stylesheet",href:fileURL});el.onload=()=>{this.loadedFiles.add(file),file.includes("slick")&&"function"==typeof window._onSlickLoaded&&window._onSlickLoaded(),callback?.()},document.head.appendChild(el)}createElement(tag,attrs){const el=document.createElement(tag);return Object.entries(attrs).forEach((([k,v])=>el.setAttribute(k,v))),el}loadCoreFiles(){const coreEls=document.querySelectorAll(".eacss");if(!coreEls.length)return;const preloadEls=[],coreFiles=new Set(["ea.css"]);if(coreEls.forEach((el=>{el.classList.forEach((cls=>{"full-wid"===cls&&coreFiles.add("full-width.css"),"preload"===cls&&preloadEls.push(el),"blocker"===cls&&this.addBlockerClass()}))})),preloadEls.length){const preloadBg=document.querySelector(".preload-bg");preloadBg&&(preloadBg.style.display="block",document.body.style.overflow="hidden",window.addEventListener("load",(()=>{setTimeout((()=>{preloadBg.style.display="none",document.body.style.overflow="auto",preloadEls.forEach((el=>el.classList.remove("preload")))}),400)})))}coreFiles.forEach((file=>{const isEA="ea.css"===file;this.loadFile(file,isEA?()=>{requestAnimationFrame((()=>{setTimeout((()=>{"function"==typeof window._onSlickLoaded&&window._onSlickLoaded()}),50)}))}:null)})),coreEls.forEach((el=>{["js","css"].forEach((type=>el.dataset[type]?.split(",").map((f=>f.trim())).forEach((f=>this.loadFile(f)))))}))}addBlockerClass(){document.querySelectorAll('#main [class*="-container"]').forEach((el=>el.classList.add("blocker")))}init(){this.loadCoreFiles()}};function runSlick(){$(".slick-smart").each((function(){const $el=$(this);if(isIOS&&"true"===$el.attr("data-slick-ready"))return;const containerWidth=$el.width(),lastKnownWidth=$el.data("last-container-width")||0;if(Math.abs(containerWidth-lastKnownWidth)<5)return;$el.data("last-container-width",containerWidth);let currentSlide=0;if($el.hasClass("slick-initialized")){try{currentSlide=$el.slick("slickCurrentSlide")||0}catch{}$el.slick("unslick")}let userConfig={};const configAttr=$el.attr("data-slick");try{configAttr&&(userConfig=Function('"use strict";return ('+configAttr+")")())}catch(e){console.warn("Invalid slick config:",configAttr)}const $slides=$el.children(".item");if(!$slides.length)return;const inner=$slides[0].querySelector(".swid");if(!inner)return;const cs=window.getComputedStyle(inner),maxW=cs.getPropertyValue("max-width").trim(),realWidth=(maxW.endsWith("px")?parseFloat(maxW):0)+(parseFloat(cs.marginLeft)||0)+(parseFloat(cs.marginRight)||0);if(realWidth*$slides.length>containerWidth+1){$el.removeClass("unslicked");const slidesToShow=containerWidth/realWidth;$el.slick({mobileFirst:!0,variableWidth:!0,swipeToSlide:!0,infinite:!1,arrows:!1,dots:!0,slidesToShow:slidesToShow,...userConfig,responsive:[{breakpoint:containerWidth+100,settings:"unslick"}]}),$el.slick("slickGoTo",currentSlide,!0),isIOS&&$el.attr("data-slick-ready","true")}else $el.addClass("unslicked")})),$(".slick-data").each((function(){const $el=$(this);let userConfig={};const configAttr=$el.attr("data-slick");try{configAttr&&(userConfig=Function('"use strict";return ('+configAttr+")")())}catch(e){console.warn("Invalid slick config:",configAttr)}const hasUnslick=userConfig?.responsive?.some((r=>"unslick"===r.settings));if($el.hasClass("slick-initialized")){if(!hasUnslick)return;try{$el.slick("unslick")}catch{}}$el.slick(userConfig)}))}hasEACSS&&loader.init(),window._onSlickLoaded=()=>{requestAnimationFrame((()=>{setTimeout((()=>{let resizeTimer;runSlick(),window.addEventListener("resize",(()=>{clearTimeout(resizeTimer),resizeTimer=setTimeout(runSlick,200)}))}),50)}))}}));